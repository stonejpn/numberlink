# ナンバーリンクを解くスクリプト


## 例題
http://drysyrup333.blog.fc2.com/blog-entry-135.htmlより

6x6のサイズ
```text
+---+---+---+---+---+---+
| 3 |   |   |   |   |   |
+---+---+---+---+---+---+
|   | 4 |   | 3 | 1 |   |
+---+---+---+---+---+---+
|   |   |   |   |   |   |
+---+---+---+---+---+---+
|   | 2 |   |   |   |   |
+---+---+---+---+---+---+
|   | 1 |   | 4 |   | 2 |
+---+---+---+---+---+---+
|   |   |   |   |   |   |
+---+---+---+---+---+---+
```

数独のGrid的に表記して、
```text
6x6:3......4.31........2.....1.4.2......
```
と置くことにします。

## 制約を考える

### ルール

http://www.nikoli.com/ja/puzzles/numberlink/rule.htmlより

> 1. 白マスに線を引いて、同じ数字どうしをつなげましょう。
> 2. 線は、マスの中央を通るようにタテヨコに引きます。線を交差させたり、枝分かれさせたりしてはいけません。
> 3. 数字の入っているマスを通過するように線を引いてはいけません。
> 4. 1マスに2本以上の線を引いてはいけません。

調べて見ると、もう一つ

> 5. すべてのマスに線が通る。

というのがあるらしい。
5.の制限がないと、別解の余地ができるみたい。(そういった別解のことを「関西解」というらしいです。)

### 用語定義

* Matrix : 問題の全体の画面
* Element: それぞれのマス目
* Anchor: 問題で数字が指定されているElement

### 制約

1. Elementには必ず１つだけ数字が入る
2. あるElementの上下左右にある４つのElementのうち、必ず2つが同じ数字になる(ルール#1)
3. Anchorでは、上下左右にある4つのElementのうち、必ず1つだけが同じ数字になる

多分これだけ。
